<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>3. 变量</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C编程一站式学习" /><link rel="up" href="ch02.html" title="第 2 章 常量、变量和表达式" /><link rel="prev" href="ch02s02.html" title="2. 常量" /><link rel="next" href="ch02s04.html" title="4. 赋值" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">3. 变量</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch02s02.html">上一页</a> </td><th width="60%" align="center">第 2 章 常量、变量和表达式</th><td width="20%" align="right"> <a accesskey="n" href="ch02s04.html">下一页</a></td></tr></table><hr /></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="expr.variable"></a>3. 变量</h2></div></div></div><p>变量（Variable）<a id="id2708148" class="indexterm"></a>是编程语言最重要的概念之一，变量是计算机存储器中的一块命名的空间，可以在里面存储一个值（Value）<a id="id2708157" class="indexterm"></a>，存储的值是可以随时变的，比如这次存个字符<code class="literal">'a'</code>下次存个字符<code class="literal">'b'</code>，正因为变量的值可以随时变所以才叫变量。</p><p>常量有不同的类型，因此变量也有不同的类型，变量的类型也决定了它所占的存储空间的大小。例如以下四个语句定义了四个变量<code class="literal">fred</code>、<code class="literal">bob</code>、<code class="literal">jimmy</code>和<code class="literal">tom</code>，它们的类型分别是字符型、整型、浮点型：</p><pre class="programlisting">char fred;
int bob;
float jimmy;
double tom;</pre><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">声明和定义</h3><p>C语言中的声明（Declaration）<a id="id2708221" class="indexterm"></a>有变量声明、函数声明和类型声明三种。如果一个变量或函数的声明要求编译器为它分配存储空间，那么也可以称为定义（Definition）<a id="id2708230" class="indexterm"></a>，因此定义是声明的一种。在接下来几章的示例代码中变量声明都是要分配存储空间的，因而都是定义，等学到<a class="xref" href="ch20s02.html#link.defdecl">第 2 节 “定义和声明”</a>我们会看到哪些变量声明不分配存储空间因而不是定义。在下一章我们会看到函数的定义和声明也是这样区分的，分配存储空间的函数声明可以称为函数定义。从<a class="xref" href="ch07.html#struct">第 7 章 <i>结构体</i></a>开始我们会看到类型声明，声明一个类型是不分配存储空间的，但似乎叫“<span class="quote">类型定义</span>”听起来也不错，所以在本书中“<span class="quote">类型定义</span>”和“<span class="quote">类型声明</span>”表示相同的含义。声明和语句类似，也是以;号结尾的，但是在语法上声明和语句是有区别的，语句只能出现在{}括号中，而声明既可以出现在{}中也可以出现在所有{}之外。</p></div><p>浮点型有三种，<code class="literal">float</code>是单精度浮点型，<code class="literal">double</code>是双精度浮点型，<code class="literal">long double</code>是精度更高的浮点型。它们之间的区别和转换规则将在<a class="xref" href="ch15.html#type">第 15 章 <i>数据类型详解</i></a>详细介绍，在随后的几章中我们只使用<code class="literal">double</code>类型，上一节介绍的常量3.14应该看作<code class="literal">double</code>类型的常量，<code class="literal">printf</code>的<code class="literal">%f</code>也应该看作<code class="literal">double</code>型的转换说明。给变量起名不能太随意，上面四个变量的名字就不够好，我们猜不出这些变量是用来存什么的。而像下面这样起名就很好：</p><pre class="programlisting">char firstletter;
char lastletter;
int hour, minute;</pre><p>我们可以猜得到这些变量是用来存什么的，前两个变量的取值范围应该是<code class="literal">'A'</code>~<code class="literal">'Z'</code>或<code class="literal">'a'</code>~<code class="literal">'z'</code>，变量<code class="literal">hour</code>的取值范围应该是0~23，变量<code class="literal">minute</code>的取值范围应该是0~59，所以应该给变量起有意义的名字。从这个例子中我们也看到两个相同类型的变量（<code class="literal">hour</code>和<code class="literal">minute</code>）可以一起声明。</p><p>给变量起名有一定的限制，C语言规定必须以字母或下划线_（Underscore）<a id="id2708385" class="indexterm"></a>开头，后面可以跟若干个字母、数字、下划线，但不能有其它字符。例如这些是合法的变量名：<code class="literal">Abc</code>、<code class="literal">__abc__</code>、<code class="literal">_123</code>。但这些是不合法的变量名：<code class="literal">3abc</code>、<code class="literal">ab$</code>。其实这个规则不仅适用于变量名，也适用于所有可以由程序员起名的语法元素，例如以后要讲的函数名、宏定义、结构体成员名等，在C语言中这些统称为标识符（Identifier）<a id="id2708425" class="indexterm"></a>。</p><p>另外要注意，表示类型的<code class="literal">char</code>、<code class="literal">int</code>、<code class="literal">float</code>、<code class="literal">double</code>等虽然符合上述规则，但也不能用作标识符。在C语言中有些单词有特殊意义，不允许用作标识符，这些单词称为关键字（Keyword）<a id="id2708459" class="indexterm"></a>或保留字（Reserved Word）<a id="id2708469" class="indexterm"></a>。通常用于编程的文本编辑器都会高亮显示（Highlight）<a id="id2708480" class="indexterm"></a>这些关键字，所以只要小心一点通常不会误用作标识符。C99规定的关键字有：</p><div class="literallayout"><p>auto  break  case  char  const  continue  default  do  double<br />
else  enum  extern  float  for  goto  if  inline  int  long<br />
register  restrict  return  short  signed  sizeof  static  struct  switch  typedef<br />
union  unsigned  void  volatile  while  _Bool  _Complex  _Imaginary</p></div><p>还有一点要注意，<span class="emphasis"><em>一般来说应避免使用以下划线开头的标识符</em></span>，以下划线开头的标识符只要不和C语言关键字冲突的都是合法的，但是往往被编译器用作一些功能扩展，C标准库也定义了很多以下划线开头的标识符，所以除非你对编译器和C标准库特别清楚，一般应避免使用这种标识符，以免造成命名冲突。</p><p>请记住：<span class="emphasis"><em>理解一个概念不是把定义背下来就行了，一定要理解它的外延和内涵，也就是什么情况属于这个概念，什么情况不属于这个概念，什么情况虽然属于这个概念但一般推荐的做法（Best Practice）<a id="id2708527" class="indexterm"></a>是要尽量避免这种情况，这才算是真正理解了。</em></span></p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch02s02.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="ch02.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ch02s04.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">2. 常量 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 4. 赋值</td></tr></table></div></body></html>
