<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>1. 为什么计算机用二进制计数</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C编程一站式学习" /><link rel="up" href="ch14.html" title="第 14 章 计算机中数的表示" /><link rel="prev" href="ch14.html" title="第 14 章 计算机中数的表示" /><link rel="next" href="ch14s02.html" title="2. 不同进制之间的换算" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">1. 为什么计算机用二进制计数</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch14.html">上一页</a> </td><th width="60%" align="center">第 14 章 计算机中数的表示</th><td width="20%" align="right"> <a accesskey="n" href="ch14s02.html">下一页</a></td></tr></table><hr /></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2752672"></a>1. 为什么计算机用二进制计数</h2></div></div></div><p>人类的计数方式通常是“<span class="quote">逢十进一</span>”，称为十进制（Decimal）<a id="id2751644" class="indexterm"></a>，大概因为人有十个手指，所以十进制是最自然的计数方式，很多民族的语言文字中都有十个数字，而阿拉伯数字0~9是目前最广泛采用的。</p><p>计算机是用数字电路搭成的，数字电路中只有1和0两种状态，或者可以说计算机只有两个手指，所以对计算机来说二进制（Binary）<a id="id2751661" class="indexterm"></a>是最自然的计数方式。根据“<span class="quote">逢二进一</span>”的原则，十进制的1、2、3、4分别对应二进制的1、10、11、100。二进制的一位数字称为一个位（Bit）<a id="id2752686" class="indexterm"></a>，三个bit能够表示的最大的二进制数是111，也就是十进制的7。不管用哪种计数方式，数的大小并没有变，十进制的1+1等于2，二进制的1+1等于10，二进制的10和十进制的2大小是相等的。事实上，计算机采用如下的逻辑电路计算两个bit的加法：</p><div class="figure"><a id="id2752704"></a><p class="title"><b>图 14.1. 1-bit Full Adder</b></p><div class="figure-contents"><div><img src="images/number.digitallogic.png" alt="1-bit Full Adder" /></div></div></div><br class="figure-break" /><p>图的上半部分（出自Wikipedia）的电路称为一位全加器（1-bit Full Adder）<a id="id2752721" class="indexterm"></a>，图的下半部分是一些逻辑电路符号的图例。我们首先解释这些图例，逻辑电路由门电路（Gate）<a id="id2752730" class="indexterm"></a>和导线（Wire）<a id="id2752737" class="indexterm"></a>组成，同一条导线上在某一时刻的电压值只能是高和低两种状态之一，分别用0和1表示。如果两条导线短接在一起则它们的电压值相同，在接点处画一个黑点，如果接点处没有画黑点则表示这两条线并没有短接在一起，只是在画图时无法避免交叉。导线的电压值进入门电路的输入端，经过逻辑运算后在门电路的输出端输出运算结果的电压值，任何复杂的加减乘除运算都可以分解成简单的逻辑运算。AND、OR和NOT运算在<a class="xref" href="ch04s03.html#cond.bool">第 3 节 “布尔代数”</a>中讲过了，这三种逻辑运算分别用与门、或门和反相器（Inverter）<a id="id2752770" class="indexterm"></a>实现。另外几种逻辑运算在这里补充一下。异或（XOR，eXclusive OR）<a id="id2752778" class="indexterm"></a>运算的真值表如下：</p><div class="table"><a id="id2752787"></a><p class="title"><b>表 14.1. XOR的真值表</b></p><div class="table-contents"><table summary="XOR的真值表" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>A</th><th>B</th><th>A XOR B</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table></div></div><br class="table-break" /><p>用一句话概括就是：两个操作数相同则结果为0，两个操作数不同则结果为1。与非（NAND）和或非（NOR）运算就是在与、或运算的基础上取反：</p><div class="table"><a id="id2752852"></a><p class="title"><b>表 14.2. NAND的真值表</b></p><div class="table-contents"><table summary="NAND的真值表" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>A</th><th>B</th><th>A NAND B</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table></div></div><br class="table-break" /><div class="table"><a id="id2752910"></a><p class="title"><b>表 14.3. NOR的真值表</b></p><div class="table-contents"><table summary="NOR的真值表" border="1"><colgroup><col /><col /><col /></colgroup><thead><tr><th>A</th><th>B</th><th>A NOR B</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td></tr><tr><td>1</td><td>1</td><td>0</td></tr></tbody></table></div></div><br class="table-break" /><p>如果把与门、或门和反相器组合来实现NAND和NOR运算，则电路过于复杂了，因此逻辑电路中通常有专用的与非门和或非门。现在我们看看上图中的AND、OR、XOR是怎么实现两个bit的加法的。A、B是两个加数，C<sub>in</sub>是低位传上来的进位（Carry）<a id="id2752979" class="indexterm"></a>，相当于三个加数求和，三个加数都是0则结果为0，三个加数都是1则结果为11，即输出位S是1，产生的进位C<sub>out</sub>也是1。下面根据加法的规则用真值表列出所有可能的情况：</p><div class="table"><a id="id2752995"></a><p class="title"><b>表 14.4. 1-bit Full Adder的真值表</b></p><div class="table-contents"><table summary="1-bit Full Adder的真值表" border="1"><colgroup><col /><col /><col /><col /><col /></colgroup><thead><tr><th>A</th><th>B</th><th>C<sub>in</sub></th><th>C<sub>out</sub></th><th>S</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>0</td><td>0</td></tr><tr><td>0</td><td>0</td><td>1</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>0</td><td>0</td><td>1</td></tr><tr><td>0</td><td>1</td><td>1</td><td>1</td><td>0</td></tr><tr><td>1</td><td>0</td><td>0</td><td>0</td><td>1</td></tr><tr><td>1</td><td>0</td><td>1</td><td>1</td><td>0</td></tr><tr><td>1</td><td>1</td><td>0</td><td>1</td><td>0</td></tr><tr><td>1</td><td>1</td><td>1</td><td>1</td><td>1</td></tr></tbody></table></div></div><br class="table-break" /><p>请读者对照电路图验证一下真值表是否正确。如果把很多个一位全加器串接起来，就成了多位加法器，如下图所示（该图出自Wikipedia）：</p><div class="figure"><a id="id2753137"></a><p class="title"><b>图 14.2. 4-bit Ripple Carry Adder</b></p><div class="figure-contents"><div><img src="images/number.fulladder.png" alt="4-bit Ripple Carry Adder" /></div></div></div><br class="figure-break" /><p>图中的一位全加器用方框表示，上一级全加器的C<sub>out</sub>连接到下一级全加器的C<sub>in</sub>，让进位像涟漪一样一级一级传开，所以叫做Ripple Carry Adder<a id="id2753161" class="indexterm"></a>，这样就可以把两个4 bit二进制数A<sub>3</sub>A<sub>2</sub>A<sub>1</sub>A<sub>0</sub>和B<sub>3</sub>B<sub>2</sub>B<sub>1</sub>B<sub>0</sub>加起来了。在这里介绍Ripple Carry Adder只是为了让读者理解计算机是如何通过逻辑运算来做算术运算的，实际上这种加法器效率很低，只能加完了一位再加下一位，更实用、更复杂的加法器可以多个位一起计算，有兴趣的读者可参考<a class="xref" href="bi01.html#bibli.vhdl" title="Fundamentals of Digital Logic with VHDL Design">[<abbr class="abbrev">数字逻辑基础</abbr>]</a>。</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch14.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="ch14.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ch14s02.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">第 14 章 计算机中数的表示 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 2. 不同进制之间的换算</td></tr></table></div></body></html>
