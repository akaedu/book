<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>2. 以太网(RFC 894)帧格式</title><link rel="stylesheet" href="styles.css" type="text/css" /><meta name="generator" content="DocBook XSL Stylesheets V1.73.2" /><link rel="start" href="index.html" title="Linux C编程一站式学习" /><link rel="up" href="ch36.html" title="第 36 章 TCP/IP协议基础" /><link rel="prev" href="ch36s01.html" title="1. TCP/IP协议栈与数据包封装" /><link rel="next" href="ch36s03.html" title="3. ARP数据报格式" /></head><body><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. 以太网(RFC 894)帧格式</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="ch36s01.html">上一页</a> </td><th width="60%" align="center">第 36 章 TCP/IP协议基础</th><td width="20%" align="right"> <a accesskey="n" href="ch36s03.html">下一页</a></td></tr></table><hr /></div><div class="sect1" lang="zh-cn" xml:lang="zh-cn"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a id="id2899687"></a>2. 以太网(RFC 894)帧格式</h2></div></div></div><p>以太网的帧格式如下所示（该图出自<a class="xref" href="bi01.html#bibli.tcpip" title="TCP/IP Illustrated, Volume 1: The Protocols">[<abbr class="abbrev">TCPIP</abbr>]</a>）：</p><div class="figure"><a id="id2899701"></a><p class="title"><b>图 36.6. 以太网帧格式</b></p><div class="figure-contents"><div><img src="images/tcpip.ethernetformat.png" alt="以太网帧格式" /></div></div></div><br class="figure-break" /><p>其中的源地址和目的地址是指网卡的硬件地址（也叫MAC地址），长度是48位，是在网卡出厂时固化的。用ifconfig命令看一下，“HWaddr 00:15:F2:14:9E:3F”部分就是硬件地址。协议字段有三种值，分别对应IP、ARP、RARP。帧末尾是CRC校验码。</p><p>以太网帧中的数据长度规定最小46字节，最大1500字节，ARP和RARP数据包的长度不够46字节，要在后面补填充位。最大值1500称为以太网的最大传输单元（MTU），不同的网络类型有不同的MTU，如果一个数据包从以太网路由到拨号链路上，数据包长度大于拨号链路的MTU了，则需要对数据包进行分片（fragmentation）。ifconfig命令的输出中也有“MTU:1500”。注意，MTU这个概念指数据帧中有效载荷的最大长度，不包括帧首部的长度。</p></div><div class="navfooter"><hr /><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="ch36s01.html">上一页</a> </td><td width="20%" align="center"><a accesskey="u" href="ch36.html">上一级</a></td><td width="40%" align="right"> <a accesskey="n" href="ch36s03.html">下一页</a></td></tr><tr><td width="40%" align="left" valign="top">1. TCP/IP协议栈与数据包封装 </td><td width="20%" align="center"><a accesskey="h" href="index.html">起始页</a></td><td width="40%" align="right" valign="top"> 3. ARP数据报格式</td></tr></table></div></body></html>
